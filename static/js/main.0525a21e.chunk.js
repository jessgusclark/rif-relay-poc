(this["webpackJsonpreact-app-rif-template"]=this["webpackJsonpreact-app-rif-template"]||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},123:function(e,t){},124:function(e,t){},152:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(19),r=n.n(s),i=n(88),u=n.n(i),p=(n(109),n(32)),o=n(51),c=(n(110),n(89)),d=new(n.n(c).a)({cacheProvider:!1,supportedChains:[33]}),l=function(e){var t=e.setProvider;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Connect to your Provider:"}),Object(a.jsx)("button",{onClick:function(){d.connect().then((function(e){return t(e)}))},children:"Connect!"}),Object(a.jsx)("hr",{})]})},y=function(e){var t=e.provider,n=Object(s.useState)(),r=Object(p.a)(n,2),i=r[0],u=r[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"EOA Account:"}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Address"}),": ",t.selectedAddress]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Balance:"}),i,Object(a.jsx)("button",{onClick:function(){return t.request({method:"eth_getBalance",params:[t.selectedAddress]}).then((function(e){return u(parseInt(e))}))},children:"refresh"})]}),Object(a.jsx)("hr",{})]})},b=n(3),m=n.n(b),f=n(53),j=n(90),h=n(4),O=n(5),v=n(40),x=n(37),T=n(91),g=function(e){return new v.b(e,T)},w=function(){function e(t,n){var a=this;Object(h.a)(this,e),this.smartAddress=void 0,this.smartWalletFactoryContract=void 0,this.getSmartWalletAddress=function(){return Promise.resolve(a.smartAddress)},this.isDeployed=function(){return a.smartWalletFactoryContract.signer.provider.getCode(a.smartAddress).then((function(e){return"0x"!==e}))},this.deploy=function(){return a.smartWalletFactoryContract.selfCreateUserSmartWallet(x.constants.AddressZero,x.constants.Zero)},this.smartAddress=t,this.smartWalletFactoryContract=n}return Object(O.a)(e,null,[{key:"getSmartWalletParams",value:function(e){return[e,x.constants.AddressZero,x.constants.Zero]}},{key:"create",value:function(){var t=Object(j.a)(m.a.mark((function t(n,a){var s,r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=g(a).connect(n),t.next=3,n.getAddress();case 3:return r=t.sent,t.next=6,s.getSmartWalletAddress.apply(s,Object(f.a)(e.getSmartWalletParams(r)));case 6:return i=t.sent,t.abrupt("return",new e(i,s));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),S=n(97),A="0xA2276921Af8c20865cC0980A7e6EE8B9C46BDdC0".toLowerCase(),C=function(e){var t=e.ethersProvider,n=Object(s.useState)(null),r=Object(p.a)(n,2),i=r[0],u=r[1],c=Object(s.useState)(!1),d=Object(p.a)(c,2),l=d[0],y=d[1],b=Object(s.useState)(),m=Object(p.a)(b,2),f=m[0],j=m[1];Object(s.useEffect)((function(){w.create(t.getSigner(),A).then((function(e){u(e),h(e)}))}),[t]);var h=function(e){return e.isDeployed().then((function(e){return y(e)}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Smart Wallet Account"}),i&&Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Smart Wallet Address:"})," ",i.smartAddress]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Is deployed:"}),l.toString(),Object(a.jsx)("button",{onClick:function(){return i.deploy().then((function(e){return console.log("isDeployed??",e)}))},disabled:l,children:"deploy"})]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"TKN Balance:"})," ",f,Object(a.jsx)("button",{disabled:!i,onClick:function(){new o.a.Contract("0x726ecc75d5d51356aa4d0a5b648790cc345985ed",S,t).balanceOf(i.smartAddress.toLowerCase()).then((function(e){return j(e.toString())}))},children:"refresh"})]}),Object(a.jsx)("hr",{})]})},M=n(98),k=n.n(M),W="http://localhost:8090",D=function(e){var t=e.setHubDetails,n=Object(s.useState)(),r=Object(p.a)(n,2),i=r[0],u=r[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Relay Hub Info"}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"URL"})," ",W]}),Object(a.jsx)("button",{onClick:function(){u(void 0),k.a.get("".concat(W,"/getAddr")).then((function(e){return e.data})).then((function(e){return t(e)})).catch((function(e){return u(e.toString())}))},children:"get details from hub"}),i&&Object(a.jsx)("p",{children:Object(a.jsx)("strong",{children:i})}),Object(a.jsx)("hr",{})]})},_=function(e){var t=e.hubDetails;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Relay Transaction"}),Object(a.jsx)("h3",{children:"details"}),Object(a.jsx)("pre",{style:{width:"90%",textAlign:"left"},children:JSON.stringify(t,null,2)})]})};var P=function(){var e=Object(s.useState)(null),t=Object(p.a)(e,2),n=t[0],r=t[1],i=Object(s.useState)(),u=Object(p.a)(i,2),c=u[0],d=u[1],b=Object(s.useState)(null),m=Object(p.a)(b,2),f=m[0],j=m[1];return Object(a.jsxs)("div",{className:"App",children:[!c&&Object(a.jsx)(l,{setProvider:function(e){d(e);var t=new o.a.providers.Web3Provider(e.provider);r(t)}}),c&&Object(a.jsx)("div",{children:Object(a.jsx)(y,{provider:c.provider})}),n&&Object(a.jsx)(C,{ethersProvider:n}),Object(a.jsx)(D,{setHubDetails:function(e){return j(e)}}),c&&f&&Object(a.jsx)(_,{hubDetails:f})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,160)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))};u.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root")),F()},91:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"forwarderTemplate","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"addr","type":"address"},{"indexed":false,"internalType":"uint256","name":"salt","type":"uint256"}],"name":"Deployed","type":"event"},{"inputs":[],"name":"DATA_VERSION_HASH","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"relayHub","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"tokenContract","type":"address"},{"internalType":"address","name":"recoverer","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"tokenAmount","type":"uint256"},{"internalType":"uint256","name":"tokenGas","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct IForwarder.DeployRequest","name":"req","type":"tuple"},{"internalType":"bytes32","name":"suffixData","type":"bytes32"}],"name":"_getEncoded","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"recoverer","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"bytes","name":"sig","type":"bytes"}],"name":"createUserSmartWallet","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getCreationBytecode","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"recoverer","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getSmartWalletAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"masterCopy","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"}],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"relayHub","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"tokenContract","type":"address"},{"internalType":"address","name":"recoverer","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"tokenAmount","type":"uint256"},{"internalType":"uint256","name":"tokenGas","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct IForwarder.DeployRequest","name":"req","type":"tuple"},{"internalType":"bytes32","name":"domainSeparator","type":"bytes32"},{"internalType":"bytes32","name":"suffixData","type":"bytes32"},{"internalType":"bytes","name":"sig","type":"bytes"}],"name":"relayedUserSmartWalletCreation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"runtimeCodeHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recoverer","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"selfCreateUserSmartWallet","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},97:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')}},[[152,1,2]]]);
//# sourceMappingURL=main.0525a21e.chunk.js.map